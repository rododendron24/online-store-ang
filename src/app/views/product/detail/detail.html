<!--<div class="detail" *ngIf="product$">-->
<!--  <div class="container">-->

<!--    @if (product$ | async; as product) {-->
<!--    <div class="detail-title">{{ product.name }}</div>-->
<!--    }-->
<!--    <div class="detail-product">-->
<!--      @if (product$ | async; as product) {-->
<!--      <div class="detail-image"-->
<!--        [style.background-image]="'url(' + serverStaticPath + (product?.image ?? '') + ')'"-->
<!--      ></div>-->
<!--      }-->

<!--      <div class="detail-info">-->
<!--        <div class="detail-info-items">-->
<!--          @if (product$ | async; as product) {-->
<!--          <div class="detail-info-item" *ngIf="product.lightning">-->
<!--            <div class="detail-info-item-icon">-->
<!--              <svg width="53" height="55" viewBox="0 0 53 55" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--                <path fill-rule="evenodd" clip-rule="evenodd"-->
<!--                      d="M26.0967 14.9976C33.1375 14.9976 38.8816 20.8157 39.1934 28.1157H37.4053C37.0961 21.7318 32.0777 16.7856 26.0967 16.7856C20.1159 16.7859 15.0991 21.732 14.79 28.1157H13.001C13.3127 20.8158 19.056 14.9978 26.0967 14.9976Z"-->
<!--                      fill="#2C496B"/>-->
<!--                <path d="M26.1104 10V15.3099" stroke="#2C496B" stroke-width="2.38372" stroke-linecap="round"/>-->
<!--                <path d="M26.1104 39.3608V44.3584" stroke="#2C496B" stroke-width="2.38372" stroke-linecap="round"/>-->
<!--                <path d="M32.0693 36.8618L35.4404 40.3956" stroke="#2C496B" stroke-width="2.38372"-->
<!--                      stroke-linecap="round"/>-->
<!--                <path d="M16.5752 40.3955L19.9463 36.8617" stroke="#2C496B" stroke-width="2.38372"-->
<!--                      stroke-linecap="round"/>-->
<!--                <path-->
<!--                  d="M32.0049 28.1162C32.0467 28.4224 32.0693 28.7354 32.0693 29.0537L32.0615 29.3906C31.894 32.8565 29.1594 35.6123 25.8115 35.6123C22.4639 35.612 19.73 32.8563 19.5625 29.3906L19.5547 29.0537C19.5547 28.7354 19.5773 28.4224 19.6191 28.1162H21.4287C21.373 28.4178 21.3428 28.7311 21.3428 29.0537C21.343 31.7689 23.422 33.8248 25.8115 33.8252C28.2013 33.8252 30.281 31.7691 30.2812 29.0537C30.2812 28.7311 30.251 28.4179 30.1953 28.1162H32.0049Z"-->
<!--                  fill="#2C496B"/>-->
<!--                <path d="M13.8436 28.4287H38.3662" stroke="#2C496B" stroke-width="1.78779" stroke-linecap="round"/>-->
<!--              </svg>-->
<!--            </div>-->
<!--            <div class="detail-info-item-text">-->
<!--              <div class="detail-info-item-title">-->
<!--                Освещение-->
<!--              </div>-->
<!--              @if (product$ | async; as product) {-->
<!--              <div class="detail-info-item-description">-->
<!--                {{product.lightning}}-->
<!--              </div>-->
<!--              }-->
<!--            </div>-->
<!--          </div>-->
<!--          }-->

<!--        @if (product$ | async; as product) {-->
<!--          <div class="detail-info-item" *ngIf="product.humidity">-->
<!--            <div class="detail-info-item-icon">-->
<!--              <svg width="53" height="55" viewBox="0 0 53 55" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--                <ellipse cx="26.2338" cy="27.5" rx="26.2338" ry="27.5" fill="white"/>-->
<!--                <path-->
<!--                  d="M32.2881 15.6313C34.05 16.6837 35.6644 18.45 36.8691 20.5386C38.1693 22.7926 38.9424 25.3346 38.9424 27.5972C38.9424 32.1449 35.8301 35.5745 32.2832 35.5747C28.7362 35.5747 25.623 32.145 25.623 27.5972C25.623 25.3613 26.53 22.7467 27.916 20.4321C29.1873 18.3091 30.7891 16.5619 32.2881 15.6313Z"-->
<!--                  fill="#2C496B" stroke="#2C496B" stroke-width="1.81634"/>-->
<!--                <mask id="path-3-inside-1_361_2119" fill="white">-->
<!--                  <path-->
<!--                    d="M22.8291 13.2979C25.2911 14.7387 27.5003 17.0779 29.1924 19.8008L28.665 19.6416L28.1328 21.5742C28.0973 21.5113 28.0635 21.4474 28.0273 21.3848C26.4954 18.729 24.4793 16.4944 22.3047 15.1074C20.4564 16.35 18.4662 18.5527 16.8516 21.249C15 24.3411 13.8165 27.7931 13.8164 30.6943C13.8164 36.6493 17.8741 40.9629 22.293 40.9629C25.6231 40.9627 28.7456 38.512 30.083 34.7559L31.8154 35.2793C30.2772 39.6789 26.5947 42.7781 22.293 42.7783L22.0273 42.7744C16.4655 42.6092 12 37.2641 12 30.6943C12.0002 24.0205 17.3526 15.5894 22.293 13L22.8291 13.2979Z"/>-->
<!--                </mask>-->
<!--                <path-->
<!--                  d="M22.8291 13.2979C25.2911 14.7387 27.5003 17.0779 29.1924 19.8008L28.665 19.6416L28.1328 21.5742C28.0973 21.5113 28.0635 21.4474 28.0273 21.3848C26.4954 18.729 24.4793 16.4944 22.3047 15.1074C20.4564 16.35 18.4662 18.5527 16.8516 21.249C15 24.3411 13.8165 27.7931 13.8164 30.6943C13.8164 36.6493 17.8741 40.9629 22.293 40.9629C25.6231 40.9627 28.7456 38.512 30.083 34.7559L31.8154 35.2793C30.2772 39.6789 26.5947 42.7781 22.293 42.7783L22.0273 42.7744C16.4655 42.6092 12 37.2641 12 30.6943C12.0002 24.0205 17.3526 15.5894 22.293 13L22.8291 13.2979Z"-->
<!--                  fill="#2C496B"/>-->
<!--                <path-->
<!--                  d="M22.8291 13.2979L23.7465 11.7302L23.729 11.72L23.7112 11.7101L22.8291 13.2979ZM29.1924 19.8008L28.6675 21.5396L33.2759 22.9307L30.7351 18.8421L29.1924 19.8008ZM28.665 19.6416L29.1899 17.9027L27.4081 17.3649L26.9139 19.1593L28.665 19.6416ZM28.1328 21.5742L26.5508 22.4665L28.7145 26.3029L29.884 22.0565L28.1328 21.5742ZM28.0273 21.3848L29.6007 20.4772L29.6007 20.4772L28.0273 21.3848ZM22.3047 15.1074L23.2814 13.576L22.2785 12.9364L21.2913 13.6001L22.3047 15.1074ZM16.8516 21.249L15.2933 20.3159L15.2932 20.3159L16.8516 21.249ZM13.8164 30.6943L12.0001 30.6943V30.6943H13.8164ZM22.293 40.9629V42.7792H22.2931L22.293 40.9629ZM30.083 34.7559L30.6083 33.0171L28.9522 32.5168L28.3719 34.1466L30.083 34.7559ZM31.8154 35.2793L33.53 35.8787L34.1557 34.089L32.3408 33.5406L31.8154 35.2793ZM22.293 42.7783L22.2663 44.5945L22.2797 44.5947H22.293L22.293 42.7783ZM22.0273 42.7744L21.9734 44.59L21.987 44.5904L22.0006 44.5906L22.0273 42.7744ZM12 30.6943L10.1837 30.6943V30.6943H12ZM22.293 13L23.1751 11.4122L22.3181 10.9361L21.4498 11.3912L22.293 13ZM22.8291 13.2979L21.9117 14.8655C24.0606 16.123 26.0734 18.2229 27.6497 20.7595L29.1924 19.8008L30.7351 18.8421C28.9272 15.9329 26.5217 13.3543 23.7465 11.7302L22.8291 13.2979ZM29.1924 19.8008L29.7173 18.0619L29.1899 17.9027L28.665 19.6416L28.1402 21.3805L28.6675 21.5396L29.1924 19.8008ZM28.665 19.6416L26.9139 19.1593L26.3817 21.092L28.1328 21.5742L29.884 22.0565L30.4162 20.1239L28.665 19.6416ZM28.1328 21.5742L29.7149 20.6819C29.7033 20.6614 29.6924 20.6414 29.6719 20.6042C29.6539 20.5715 29.6288 20.5259 29.6007 20.4772L28.0273 21.3848L26.454 22.2923C26.4988 22.37 26.4696 22.3226 26.5508 22.4665L28.1328 21.5742ZM28.0273 21.3848L29.6007 20.4772C27.956 17.626 25.7525 15.1521 23.2814 13.576L22.3047 15.1074L21.328 16.6388C23.206 17.8366 25.0348 19.8321 26.454 22.2923L28.0273 21.3848ZM22.3047 15.1074L21.2913 13.6001C19.1623 15.0314 17.003 17.4606 15.2933 20.3159L16.8516 21.249L18.4099 22.1822C19.9293 19.6449 21.7506 17.6686 23.3181 16.6148L22.3047 15.1074ZM16.8516 21.249L15.2932 20.3159C13.3377 23.5817 12.0002 27.3577 12.0001 30.6943L13.8164 30.6943L15.6327 30.6944C15.6328 28.2284 16.6624 25.1005 18.4099 22.1821L16.8516 21.249ZM13.8164 30.6943H12.0001C12.0001 37.3848 16.6227 42.7792 22.293 42.7792V40.9629V39.1465C19.1254 39.1465 15.6327 35.9138 15.6327 30.6943H13.8164ZM22.293 40.9629L22.2931 42.7792C26.5516 42.779 30.2572 39.6816 31.7941 35.3651L30.083 34.7559L28.3719 34.1466C27.234 37.3424 24.6947 39.1464 22.2929 39.1465L22.293 40.9629ZM30.083 34.7559L29.5577 36.4946L31.2901 37.018L31.8154 35.2793L32.3408 33.5406L30.6083 33.0171L30.083 34.7559ZM31.8154 35.2793L30.1009 34.6798C28.7572 38.5231 25.6545 40.9618 22.2929 40.962L22.293 42.7783L22.293 44.5947C27.5348 44.5945 31.7973 40.8348 33.53 35.8787L31.8154 35.2793ZM22.293 42.7783L22.3197 40.9622L22.0541 40.9583L22.0273 42.7744L22.0006 44.5906L22.2663 44.5945L22.293 42.7783ZM22.0273 42.7744L22.0813 40.9589C17.7496 40.8302 13.8163 36.551 13.8163 30.6943H12H10.1837C10.1837 37.9771 15.1814 44.3882 21.9734 44.59L22.0273 42.7744ZM12 30.6943L13.8163 30.6944C13.8164 27.793 15.0004 24.3409 16.8522 21.2487C18.7123 18.1426 21.0703 15.6916 23.1362 14.6088L22.293 13L21.4498 11.3912C18.5753 12.8978 15.7869 15.9571 13.7356 19.3823C11.6761 22.8215 10.1837 26.9218 10.1837 30.6943L12 30.6943ZM22.293 13L21.4109 14.5878L21.947 14.8856L22.8291 13.2979L23.7112 11.7101L23.1751 11.4122L22.293 13Z"-->
<!--                  fill="#2C496B" mask="url(#path-3-inside-1_361_2119)"/>-->
<!--              </svg>-->
<!--            </div>-->
<!--            <div class="detail-info-item-text">-->
<!--              <div class="detail-info-item-title">-->
<!--                Влажность-->
<!--              </div>-->
<!--              @if (product$ | async; as product) {-->
<!--              <div class="detail-info-item-description">-->
<!--                {{ product.humidity }}-->
<!--              </div>-->
<!--              }-->
<!--            </div>-->
<!--          </div>-->
<!--        }-->

<!--      @if (product$ | async; as product) {-->
<!--          <div class="detail-info-item" *ngIf="product.temperature">-->
<!--            <div class="detail-info-item-icon">-->
<!--              <svg width="53" height="55" viewBox="0 0 53 55" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--                <ellipse cx="26.2338" cy="27.5" rx="26.2338" ry="27.5" fill="white"/>-->
<!--                <path-->
<!--                  d="M29.9051 37.9016C29.9051 40.0783 28.2219 41.8428 26.1454 41.8428C24.069 41.8428 22.3857 40.0783 22.3857 37.9016C22.3857 35.725 24.069 33.9604 26.1454 33.9604C28.2219 33.9604 29.9051 35.725 29.9051 37.9016Z"-->
<!--                  fill="#2C496B"/>-->
<!--                <path fill-rule="evenodd" clip-rule="evenodd"-->
<!--                      d="M29.2788 31.3332V14.0129C29.2788 12.2826 27.8761 10.8798 26.1457 10.8798C24.4154 10.8798 23.0127 12.2826 23.0127 14.0129V31.3332H21.1328V14.0129C21.1328 11.2444 23.3772 9 26.1457 9C28.9143 9 31.1587 11.2444 31.1587 14.0129V31.3332H29.2788ZM31.1587 38.5586H21.1328V38.5587H23.0127H29.2788H31.1587V38.5586Z"-->
<!--                      fill="#2C496B"/>-->
<!--                <path fill-rule="evenodd" clip-rule="evenodd"-->
<!--                      d="M23.0128 29.3795C20.0691 30.7041 18 33.8389 18 37.4951C18 42.3493 21.6471 46.2843 26.146 46.2843C30.6449 46.2843 34.292 42.3493 34.292 37.4951C34.292 33.8388 32.2228 30.7039 29.2789 29.3794V31.5169C31.1202 32.6902 32.4121 34.8734 32.4121 37.4951C32.4121 41.4481 29.4747 44.4045 26.146 44.4045C22.8173 44.4045 19.8798 41.4481 19.8798 37.4951C19.8798 34.8736 21.1717 32.6904 23.0128 31.5171V29.3795Z"-->
<!--                      fill="#2C496B"/>-->
<!--              </svg>-->
<!--            </div>-->
<!--            <div class="detail-info-item-text">-->
<!--              <div class="detail-info-item-title">-->
<!--                Температура-->
<!--              </div>-->
<!--              <div class="detail-info-item-description">-->
<!--            {{product.temperature}}-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--      }-->
<!--        </div>-->

<!--  @if (product$ | async; as product) {-->
<!--        <div class="detail-info-param" *ngIf="product.height">-->
<!--          <div class="detail-info-param-name">Высота:</div>-->
<!--          <div class="detail-info-param-data">{{ product.height }} см</div>-->
<!--    </div>-->
<!--  }-->

<!--    @if (product$ | async; as product) {-->
<!--        <div class="detail-info-param" *ngIf="product.diameter">-->
<!--          <div class="detail-info-param-name">Диаметр (горшка):</div>-->
<!--          <div class="detail-info-param-data">{{ product.diameter }} см</div>-->
<!--        </div>-->
<!--    }-->

<!--    @if (product$ | async; as product) {-->
<!--        <div class="detail-info-params">-->
<!--          <div class="detail-info-params-count">-->
<!--            <span>Количество:</span>-->
<!--            <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>-->
<!--          </div>-->
<!--          <div class="detail-info-params-price">-->
<!--            {{ product.price }} RUB-->
<!--          </div>-->
<!--        </div>-->
<!--    }-->
<!--        <div class="detail-info-actions">-->
<!--          <button class="button button-transparent button-icon">-->
<!--            <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--              <path-->
<!--                d="M8 14.3628C7.7693 14.3628 7.54605 14.333 7.36 14.266C4.51721 13.2912 0 9.8307 0 4.71814C0 2.11349 2.10605 0 4.69581 0C5.95349 0 7.1293 0.491163 8 1.3693C8.8707 0.491163 10.0465 0 11.3042 0C13.894 0 16 2.12093 16 4.71814C16 9.83814 11.4828 13.2912 8.64 14.266C8.45395 14.333 8.2307 14.3628 8 14.3628ZM4.69581 1.11628C2.72372 1.11628 1.11628 2.73116 1.11628 4.71814C1.11628 9.80093 6.00558 12.6288 7.72465 13.2167C7.8586 13.2614 8.14884 13.2614 8.28279 13.2167C9.99442 12.6288 14.8912 9.80837 14.8912 4.71814C14.8912 2.73116 13.2837 1.11628 11.3116 1.11628C10.1805 1.11628 9.13116 1.64465 8.45395 2.56C8.24558 2.84279 7.7693 2.84279 7.56093 2.56C6.86884 1.63721 5.82698 1.11628 4.69581 1.11628Z"-->
<!--                fill="#6CAC72"/>-->
<!--            </svg>-->
<!--            <span>В избранное</span>-->
<!--          </button>-->
<!--          <button class="button" (click)="addToCart()">В корзину</button>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--    <section class="recommended-products">-->
<!--        <div class="carousel-header">-->
<!--          <div class="carousel-title">-->
<!--            Рекомендуемые товары-->
<!--          </div>-->
<!--          <div class="carousel-arrows">-->
<!--            &lt;!&ndash; Изменяем owlCar.prev() на prevProducts() &ndash;&gt;-->
<!--            <a class="move-back" (click)="prevProducts()">-->
<!--              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--                <path-->
<!--                  d="M10.5561 15C10.4013 15 10.2465 14.9435 10.1243 14.8224L4.8127 9.55746C3.94915 8.70151 3.94915 7.29647 4.8127 6.44052L10.1243 1.17563C10.3606 0.941456 10.7516 0.941456 10.9879 1.17563C11.2241 1.40981 11.2241 1.7974 10.9879 2.03158L5.67624 7.29647C5.2852 7.68407 5.2852 8.31392 5.67624 8.70151L10.9879 13.9664C11.2241 14.2006 11.2241 14.5882 10.9879 14.8224C10.8657 14.9354 10.7109 15 10.5561 15Z"-->
<!--                  fill="#202B21"/>-->
<!--              </svg>-->
<!--            </a>-->
<!--            &lt;!&ndash; Изменяем owlCar.next() на nextProducts() &ndash;&gt;-->
<!--            <a class="move-forward" (click)="nextProducts()">-->
<!--              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--                <path-->
<!--                  d="M5.44392 1C5.59871 1 5.75349 1.05652 5.87569 1.17765L11.1873 6.44254C12.0508 7.29849 12.0508 8.70353 11.1873 9.55948L5.87569 14.8244C5.63944 15.0585 5.2484 15.0585 5.01215 14.8244C4.7759 14.5902 4.7759 14.2026 5.01215 13.9684L10.3238 8.70353C10.7148 8.31593 10.7148 7.68608 10.3238 7.29849L5.01215 2.0336C4.7759 1.79942 4.7759 1.41182 5.01215 1.17765C5.13435 1.0646 5.28914 1 5.44392 1Z"-->
<!--                  fill="#202B21"/>-->
<!--              </svg>-->
<!--            </a>-->
<!--          </div>-->
<!--        </div>-->
<!--      <div class="carousel-items">-->
<!--        @if (products$ | async; as products) {-->
<!--          @if (products.length > 0) {-->
<!--            <owl-carousel-o-->
<!--              #productsCarousel-->
<!--              [options]="customOptions">-->

<!--              @for (product of products; track product.id) {-->
<!--                <ng-template carouselSlide>-->
<!--                  <product-card [product]="product"></product-card>-->
<!--                </ng-template>-->
<!--              }-->

<!--            </owl-carousel-o>-->
<!--          } @else {-->
<!--            <div class="no-products">Товары не найдены</div>-->
<!--          }-->
<!--        } @else {-->
<!--          <div class="loading">Загрузка...</div>-->
<!--        }-->
<!--      </div>-->
<!--</section>-->
<!--  </div>-->
<!--</div>-->


<div class="detail" *ngIf="product$ | async as product">
  <div class="container">
    <div class="detail-title">{{ product.name }}</div>

    <div class="detail-product">
      <div class="detail-image"
           [style.background-image]="'url(' + serverStaticPath + (product?.image ?? '') + ')'">
      </div>

      <div class="detail-info">
        <div class="detail-info-items">
          @if (product.lightning) {
            <div class="detail-info-item">
              <div class="detail-info-item-icon">
                <svg width="53" height="55" viewBox="0 0 53 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M26.0967 14.9976C33.1375 14.9976 38.8816 20.8157 39.1934 28.1157H37.4053C37.0961 21.7318 32.0777 16.7856 26.0967 16.7856C20.1159 16.7859 15.0991 21.732 14.79 28.1157H13.001C13.3127 20.8158 19.056 14.9978 26.0967 14.9976Z"
                        fill="#2C496B"/>
                  <path d="M26.1104 10V15.3099" stroke="#2C496B" stroke-width="2.38372" stroke-linecap="round"/>
                  <path d="M26.1104 39.3608V44.3584" stroke="#2C496B" stroke-width="2.38372" stroke-linecap="round"/>
                  <path d="M32.0693 36.8618L35.4404 40.3956" stroke="#2C496B" stroke-width="2.38372"
                        stroke-linecap="round"/>
                  <path d="M16.5752 40.3955L19.9463 36.8617" stroke="#2C496B" stroke-width="2.38372"
                        stroke-linecap="round"/>
                  <path
                    d="M32.0049 28.1162C32.0467 28.4224 32.0693 28.7354 32.0693 29.0537L32.0615 29.3906C31.894 32.8565 29.1594 35.6123 25.8115 35.6123C22.4639 35.612 19.73 32.8563 19.5625 29.3906L19.5547 29.0537C19.5547 28.7354 19.5773 28.4224 19.6191 28.1162H21.4287C21.373 28.4178 21.3428 28.7311 21.3428 29.0537C21.343 31.7689 23.422 33.8248 25.8115 33.8252C28.2013 33.8252 30.281 31.7691 30.2812 29.0537C30.2812 28.7311 30.251 28.4179 30.1953 28.1162H32.0049Z"
                    fill="#2C496B"/>
                  <path d="M13.8436 28.4287H38.3662" stroke="#2C496B" stroke-width="1.78779" stroke-linecap="round"/>
                </svg>
              </div>
              <div class="detail-info-item-text">
                <div class="detail-info-item-title">
                  Освещение
                </div>
                <div class="detail-info-item-description">
                  {{ product.lightning }}
                </div>
              </div>
            </div>
          }

          @if (product.humidity) {
            <div class="detail-info-item">
              <div class="detail-info-item-icon">
                <svg width="53" height="55" viewBox="0 0 53 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <ellipse cx="26.2338" cy="27.5" rx="26.2338" ry="27.5" fill="white"/>
                  <path
                    d="M32.2881 15.6313C34.05 16.6837 35.6644 18.45 36.8691 20.5386C38.1693 22.7926 38.9424 25.3346 38.9424 27.5972C38.9424 32.1449 35.8301 35.5745 32.2832 35.5747C28.7362 35.5747 25.623 32.145 25.623 27.5972C25.623 25.3613 26.53 22.7467 27.916 20.4321C29.1873 18.3091 30.7891 16.5619 32.2881 15.6313Z"
                    fill="#2C496B" stroke="#2C496B" stroke-width="1.81634"/>
                  <mask id="path-3-inside-1_361_2119" fill="white">
                    <path
                      d="M22.8291 13.2979C25.2911 14.7387 27.5003 17.0779 29.1924 19.8008L28.665 19.6416L28.1328 21.5742C28.0973 21.5113 28.0635 21.4474 28.0273 21.3848C26.4954 18.729 24.4793 16.4944 22.3047 15.1074C20.4564 16.35 18.4662 18.5527 16.8516 21.249C15 24.3411 13.8165 27.7931 13.8164 30.6943C13.8164 36.6493 17.8741 40.9629 22.293 40.9629C25.6231 40.9627 28.7456 38.512 30.083 34.7559L31.8154 35.2793C30.2772 39.6789 26.5947 42.7781 22.293 42.7783L22.0273 42.7744C16.4655 42.6092 12 37.2641 12 30.6943C12.0002 24.0205 17.3526 15.5894 22.293 13L22.8291 13.2979Z"/>
                  </mask>
                  <path
                    d="M22.8291 13.2979C25.2911 14.7387 27.5003 17.0779 29.1924 19.8008L28.665 19.6416L28.1328 21.5742C28.0973 21.5113 28.0635 21.4474 28.0273 21.3848C26.4954 18.729 24.4793 16.4944 22.3047 15.1074C20.4564 16.35 18.4662 18.5527 16.8516 21.249C15 24.3411 13.8165 27.7931 13.8164 30.6943C13.8164 36.6493 17.8741 40.9629 22.293 40.9629C25.6231 40.9627 28.7456 38.512 30.083 34.7559L31.8154 35.2793C30.2772 39.6789 26.5947 42.7781 22.293 42.7783L22.0273 42.7744C16.4655 42.6092 12 37.2641 12 30.6943C12.0002 24.0205 17.3526 15.5894 22.293 13L22.8291 13.2979Z"
                    fill="#2C496B"/>
                  <path
                    d="M22.8291 13.2979L23.7465 11.7302L23.729 11.72L23.7112 11.7101L22.8291 13.2979ZM29.1924 19.8008L28.6675 21.5396L33.2759 22.9307L30.7351 18.8421L29.1924 19.8008ZM28.665 19.6416L29.1899 17.9027L27.4081 17.3649L26.9139 19.1593L28.665 19.6416ZM28.1328 21.5742L26.5508 22.4665L28.7145 26.3029L29.884 22.0565L28.1328 21.5742ZM28.0273 21.3848L29.6007 20.4772L29.6007 20.4772L28.0273 21.3848ZM22.3047 15.1074L23.2814 13.576L22.2785 12.9364L21.2913 13.6001L22.3047 15.1074ZM16.8516 21.249L15.2933 20.3159L15.2932 20.3159L16.8516 21.249ZM13.8164 30.6943L12.0001 30.6943V30.6943H13.8164ZM22.293 40.9629V42.7792H22.2931L22.293 40.9629ZM30.083 34.7559L30.6083 33.0171L28.9522 32.5168L28.3719 34.1466L30.083 34.7559ZM31.8154 35.2793L33.53 35.8787L34.1557 34.089L32.3408 33.5406L31.8154 35.2793ZM22.293 42.7783L22.2663 44.5945L22.2797 44.5947H22.293L22.293 42.7783ZM22.0273 42.7744L21.9734 44.59L21.987 44.5904L22.0006 44.5906L22.0273 42.7744ZM12 30.6943L10.1837 30.6943V30.6943H12ZM22.293 13L23.1751 11.4122L22.3181 10.9361L21.4498 11.3912L22.293 13ZM22.8291 13.2979L21.9117 14.8655C24.0606 16.123 26.0734 18.2229 27.6497 20.7595L29.1924 19.8008L30.7351 18.8421C28.9272 15.9329 26.5217 13.3543 23.7465 11.7302L22.8291 13.2979ZM29.1924 19.8008L29.7173 18.0619L29.1899 17.9027L28.665 19.6416L28.1402 21.3805L28.6675 21.5396L29.1924 19.8008ZM28.665 19.6416L26.9139 19.1593L26.3817 21.092L28.1328 21.5742L29.884 22.0565L30.4162 20.1239L28.665 19.6416ZM28.1328 21.5742L29.7149 20.6819C29.7033 20.6614 29.6924 20.6414 29.6719 20.6042C29.6539 20.5715 29.6288 20.5259 29.6007 20.4772L28.0273 21.3848L26.454 22.2923C26.4988 22.37 26.4696 22.3226 26.5508 22.4665L28.1328 21.5742ZM28.0273 21.3848L29.6007 20.4772C27.956 17.626 25.7525 15.1521 23.2814 13.576L22.3047 15.1074L21.328 16.6388C23.206 17.8366 25.0348 19.8321 26.454 22.2923L28.0273 21.3848ZM22.3047 15.1074L21.2913 13.6001C19.1623 15.0314 17.003 17.4606 15.2933 20.3159L16.8516 21.249L18.4099 22.1822C19.9293 19.6449 21.7506 17.6686 23.3181 16.6148L22.3047 15.1074ZM16.8516 21.249L15.2932 20.3159C13.3377 23.5817 12.0002 27.3577 12.0001 30.6943L13.8164 30.6943L15.6327 30.6944C15.6328 28.2284 16.6624 25.1005 18.4099 22.1821L16.8516 21.249ZM13.8164 30.6943H12.0001C12.0001 37.3848 16.6227 42.7792 22.293 42.7792V40.9629V39.1465C19.1254 39.1465 15.6327 35.9138 15.6327 30.6943H13.8164ZM22.293 40.9629L22.2931 42.7792C26.5516 42.779 30.2572 39.6816 31.7941 35.3651L30.083 34.7559L28.3719 34.1466C27.234 37.3424 24.6947 39.1464 22.2929 39.1465L22.293 40.9629ZM30.083 34.7559L29.5577 36.4946L31.2901 37.018L31.8154 35.2793L32.3408 33.5406L30.6083 33.0171L30.083 34.7559ZM31.8154 35.2793L30.1009 34.6798C28.7572 38.5231 25.6545 40.9618 22.2929 40.962L22.293 42.7783L22.293 44.5947C27.5348 44.5945 31.7973 40.8348 33.53 35.8787L31.8154 35.2793ZM22.293 42.7783L22.3197 40.9622L22.0541 40.9583L22.0273 42.7744L22.0006 44.5906L22.2663 44.5945L22.293 42.7783ZM22.0273 42.7744L22.0813 40.9589C17.7496 40.8302 13.8163 36.551 13.8163 30.6943H12H10.1837C10.1837 37.9771 15.1814 44.3882 21.9734 44.59L22.0273 42.7744ZM12 30.6943L13.8163 30.6944C13.8164 27.793 15.0004 24.3409 16.8522 21.2487C18.7123 18.1426 21.0703 15.6916 23.1362 14.6088L22.293 13L21.4498 11.3912C18.5753 12.8978 15.7869 15.9571 13.7356 19.3823C11.6761 22.8215 10.1837 26.9218 10.1837 30.6943L12 30.6943ZM22.293 13L21.4109 14.5878L21.947 14.8856L22.8291 13.2979L23.7112 11.7101L23.1751 11.4122L22.293 13Z"
                    fill="#2C496B" mask="url(#path-3-inside-1_361_2119)"/>
                </svg>
              </div>
              <div class="detail-info-item-text">
                <div class="detail-info-item-title">
                  Влажность
                </div>
                <div class="detail-info-item-description">
                  {{ product.humidity }}
                </div>
              </div>
            </div>
          }

          @if (product.temperature) {
            <div class="detail-info-item">
              <div class="detail-info-item-icon">
                <svg width="53" height="55" viewBox="0 0 53 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <ellipse cx="26.2338" cy="27.5" rx="26.2338" ry="27.5" fill="white"/>
                  <path
                    d="M29.9051 37.9016C29.9051 40.0783 28.2219 41.8428 26.1454 41.8428C24.069 41.8428 22.3857 40.0783 22.3857 37.9016C22.3857 35.725 24.069 33.9604 26.1454 33.9604C28.2219 33.9604 29.9051 35.725 29.9051 37.9016Z"
                    fill="#2C496B"/>
                  <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M29.2788 31.3332V14.0129C29.2788 12.2826 27.8761 10.8798 26.1457 10.8798C24.4154 10.8798 23.0127 12.2826 23.0127 14.0129V31.3332H21.1328V14.0129C21.1328 11.2444 23.3772 9 26.1457 9C28.9143 9 31.1587 11.2444 31.1587 14.0129V31.3332H29.2788ZM31.1587 38.5586H21.1328V38.5587H23.0127H29.2788H31.1587V38.5586Z"
                        fill="#2C496B"/>
                  <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M23.0128 29.3795C20.0691 30.7041 18 33.8389 18 37.4951C18 42.3493 21.6471 46.2843 26.146 46.2843C30.6449 46.2843 34.292 42.3493 34.292 37.4951C34.292 33.8388 32.2228 30.7039 29.2789 29.3794V31.5169C31.1202 32.6902 32.4121 34.8734 32.4121 37.4951C32.4121 41.4481 29.4747 44.4045 26.146 44.4045C22.8173 44.4045 19.8798 41.4481 19.8798 37.4951C19.8798 34.8736 21.1717 32.6904 23.0128 31.5171V29.3795Z"
                        fill="#2C496B"/>
                </svg>
              </div>
              <div class="detail-info-item-text">
                <div class="detail-info-item-title">
                  Температура
                </div>
                <div class="detail-info-item-description">
                  {{ product.temperature }}
                </div>
              </div>
            </div>
          }
        </div>

        @if (product.height) {
          <div class="detail-info-param">
            <div class="detail-info-param-name">Высота:</div>
            <div class="detail-info-param-data">{{ product.height }} см</div>
          </div>
        }

        @if (product.diameter) {
          <div class="detail-info-param">
            <div class="detail-info-param-name">Диаметр (горшка):</div>
            <div class="detail-info-param-data">{{ product.diameter }} см</div>
          </div>
        }

        <div class="detail-info-params">
          <div class="detail-info-params-count">
            <span>Количество:</span>
            <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>
          </div>
          <div class="detail-info-params-price">
            {{ product.price }} RUB
          </div>
        </div>

        <div class="detail-info-actions">
          <button class="button button-transparent button-icon">
            <!-- SVG иконки -->
            <span>В избранное</span>
          </button>
          @if (isInCart) {
<!--            <button class="button" (click)="removeFromCart()">Удалить из корзины</button>-->
            <button class="button card-button button-transparent button-in-cart" (click)="removeFromCart()">
              <span>В корзине</span>
              <span>Удалить</span>
            </button>
          } @else {
            <button class="button" (click)="addToCart()">В корзину</button>
          }
        </div>
      </div>
    </div>

    <section class="recommended-products">
      <div class="carousel-header">
        <div class="carousel-title">
          Рекомендуемые товары
        </div>
        <div class="carousel-arrows">
          <a class="move-back" (click)="prevProducts()">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                              d="M10.5561 15C10.4013 15 10.2465 14.9435 10.1243 14.8224L4.8127 9.55746C3.94915 8.70151 3.94915 7.29647 4.8127 6.44052L10.1243 1.17563C10.3606 0.941456 10.7516 0.941456 10.9879 1.17563C11.2241 1.40981 11.2241 1.7974 10.9879 2.03158L5.67624 7.29647C5.2852 7.68407 5.2852 8.31392 5.67624 8.70151L10.9879 13.9664C11.2241 14.2006 11.2241 14.5882 10.9879 14.8224C10.8657 14.9354 10.7109 15 10.5561 15Z"
                              fill="#202B21"/>
                          </svg>
                        </a>
          <a class="move-forward" (click)="nextProducts()">
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                              d="M5.44392 1C5.59871 1 5.75349 1.05652 5.87569 1.17765L11.1873 6.44254C12.0508 7.29849 12.0508 8.70353 11.1873 9.55948L5.87569 14.8244C5.63944 15.0585 5.2484 15.0585 5.01215 14.8244C4.7759 14.5902 4.7759 14.2026 5.01215 13.9684L10.3238 8.70353C10.7148 8.31593 10.7148 7.68608 10.3238 7.29849L5.01215 2.0336C4.7759 1.79942 4.7759 1.41182 5.01215 1.17765C5.13435 1.0646 5.28914 1 5.44392 1Z"
                              fill="#202B21"/>
                          </svg>
                        </a>
        </div>
      </div>
      <div class="carousel-items">
        @if (products$ | async; as products) {
          @if (products.length > 0) {
            <owl-carousel-o
              #productsCarousel
              [options]="customOptions">
              @for (product of products; track product.id) {
                <ng-template carouselSlide>
                  <product-card [product]="product"></product-card>
                </ng-template>
              }
            </owl-carousel-o>
          } @else {
            <div class="no-products">Товары не найдены</div>
          }
        } @else {
          <div class="loading">Загрузка...</div>
        }
      </div>
    </section>
  </div>
</div>
