<!--@if (product) {-->
<!--  <div class="product-card" [class.light]="isLight"-->
<!--       [style.cursor]="isLight ? 'pointer' : 'default'"-->
<!--       [routerLink]="isLight ? ['/detail', product.url] : null">-->

<!--    <div class="product-card-favorite" *ngIf="!isLight">-->
<!--      <span>-->
<!--        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--          <path d="M10.9997 19.8457C10.7155 19.8457 10.4405 19.8091 10.2113 19.7266C6.70967 18.5257 1.14551 14.2632 1.14551 7.96572C1.14551 4.75739 3.73967 2.15405 6.92967 2.15405C8.47884 2.15405 9.92717 2.75905 10.9997 3.84072C12.0722 2.75905 13.5205 2.15405 15.0697 2.15405C18.2597 2.15405 20.8538 4.76655 20.8538 7.96572C20.8538 14.2724 15.2897 18.5257 11.788 19.7266C11.5588 19.8091 11.2838 19.8457 10.9997 19.8457ZM6.92967 3.52905C4.50051 3.52905 2.52051 5.51822 2.52051 7.96572C2.52051 14.2266 8.54301 17.7099 10.6605 18.4341C10.8255 18.4891 11.183 18.4891 11.348 18.4341C13.4563 17.7099 19.488 14.2357 19.488 7.96572C19.488 5.51822 17.508 3.52905 15.0788 3.52905C13.6855 3.52905 12.393 4.17989 11.5588 5.30739C11.3022 5.65572 10.7155 5.65572 10.4588 5.30739C9.60634 4.17072 8.32301 3.52905 6.92967 3.52905Z" fill="#383838"/>-->
<!--        </svg>-->
<!--      </span>-->
<!--    </div>-->

<!--    <div class="product-card-image"-->
<!--         [style.background-image]="'url(' + serverStaticPath + product.image + ')'">-->
<!--    </div>-->

<!--    <div class="product-card-name">-->
<!--      {{ product.name }}-->
<!--    </div>-->

<!--    @if (!isLight) {-->
<!--      <div class="product-card-info">-->
<!--        <div class="product-card-price">-->
<!--          {{ product.price }} RUB-->
<!--        </div>-->
<!--        <div class="product-card-action">-->
<!--          <button class="button" *ngIf="!isInCart" (click)="addToCart()">В корзину</button>-->
<!--          <button class="button button-transparent" *ngIf="isInCart">В корзину</button>-->
<!--        </div>-->
<!--      </div>-->

<!--      <div class="product-card-extra">-->
<!--        <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>-->
<!--        <a [routerLink]="['/detail', product.url]" class="product-card-detail">-->
<!--          <svg width="18" height="4" viewBox="0 0 18 4" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--            <circle cx="2" cy="2" r="2" fill="#9AA0A8"/>-->
<!--            <circle cx="8.66699" cy="2" r="2" fill="#9AA0A8"/>-->
<!--            <circle cx="15.333" cy="2" r="2" fill="#9AA0A8"/>-->
<!--          </svg>-->
<!--          <span>Подробнее</span>-->
<!--        </a>-->
<!--      </div>-->
<!--    }-->
<!--  </div>-->
<!--}-->


<!-- Проверяем, что продукт существует -->
<div *ngIf="product" class="product-card"
     [class.light]="isLight"
     [style.cursor]="isLight ? 'pointer' : 'default'"
     [routerLink]="isLight ? ['/detail', product.url] : null">

  <!-- Избранное (только если не light) -->
  <div class="product-card-favorite" *ngIf="!isLight">
    <span>
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10.9997 19.8457C10.7155 19.8457 10.4405 19.8091 10.2113 19.7266C6.70967 18.5257 1.14551 14.2632 1.14551 7.96572C1.14551 4.75739 3.73967 2.15405 6.92967 2.15405C8.47884 2.15405 9.92717 2.75905 10.9997 3.84072C12.0722 2.75905 13.5205 2.15405 15.0697 2.15405C18.2597 2.15405 20.8538 4.76655 20.8538 7.96572C20.8538 14.2724 15.2897 18.5257 11.788 19.7266C11.5588 19.8091 11.2838 19.8457 10.9997 19.8457ZM6.92967 3.52905C4.50051 3.52905 2.52051 5.51822 2.52051 7.96572C2.52051 14.2266 8.54301 17.7099 10.6605 18.4341C10.8255 18.4891 11.183 18.4891 11.348 18.4341C13.4563 17.7099 19.488 14.2357 19.488 7.96572C19.488 5.51822 17.508 3.52905 15.0788 3.52905C13.6855 3.52905 12.393 4.17989 11.5588 5.30739C11.3022 5.65572 10.7155 5.65572 10.4588 5.30739C9.60634 4.17072 8.32301 3.52905 6.92967 3.52905Z" fill="#383838"/>
      </svg>
    </span>
  </div>

  <!-- Изображение -->
  <div class="product-card-image"
       [style.background-image]="'url(' + serverStaticPath + product.image + ')'">
  </div>

  <!-- Название -->
  <div class="product-card-name">{{ product.name }}</div>

  <!-- Info и кнопки только если не light -->
  <div *ngIf="!isLight">
    <div class="product-card-info">
      <div class="product-card-price">{{ product.price }} RUB</div>
      <div class="product-card-action">
        <button class="button card-button" *ngIf="!isInCart" (click)="addToCart()">В корзину</button>
        <button class="button card-button button-transparent button-in-cart" *ngIf="isInCart" (click)="removeFromCart()">
          <span>В корзине</span>
          <span>Удалить</span>
        </button>
      </div>
    </div>

    <div class="product-card-extra">
      <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>
      <a [routerLink]="['/detail', product.url]" class="product-card-detail">
        <svg width="18" height="4" viewBox="0 0 18 4" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="2" cy="2" r="2" fill="#9AA0A8"/>
          <circle cx="8.66699" cy="2" r="2" fill="#9AA0A8"/>
          <circle cx="15.333" cy="2" r="2" fill="#9AA0A8"/>
        </svg>
        <span>Подробнее</span>
      </a>
    </div>
  </div>
</div>
